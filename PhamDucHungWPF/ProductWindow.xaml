<Window x:Class="PhamDucHungWPF.ProductWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Product Management"
        Height="650" Width="950"
        WindowStartupLocation="CenterScreen"
        Background="#F5F7FA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 🔍 Search Panel -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,15" HorizontalAlignment="Left">
            <TextBox x:Name="txtSearch"
                     Width="200" Height="30"
                     Margin="0,0,10,0"
                     VerticalContentAlignment="Center"
                     
                     TextChanged="txtSearch_TextChanged"/>

            <ComboBox x:Name="cbCategory"
                      Width="200" Height="30"
                      Margin="0,0,10,0"
                      DisplayMemberPath="Name"
                      SelectedValuePath="CategoryId"/>

            <Button Content="Search"
                    Width="100" Height="30"
                    Click="BtnSearch_Click"/>
        </StackPanel>

        <!-- 📝 Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.5*"/>
                <ColumnDefinition Width="3.5*"/>
            </Grid.ColumnDefinitions>

            <!-- 🔧 Input Form -->
            <StackPanel Margin="0,0,20,0">
                <TextBlock Text="Product Name:" FontWeight="Bold"/>
                <TextBox x:Name="txtName" Margin="0,5,0,10"/>

                <TextBlock Text="Price:" FontWeight="Bold"/>
                <TextBox x:Name="txtPrice" Margin="0,5,0,10"/>

                <TextBlock Text="Description:" FontWeight="Bold"/>
                <TextBox x:Name="txtDescription"
                         Height="60"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         Margin="0,5,0,10"/>

                <TextBlock Text="Category:" FontWeight="Bold"/>
                <ComboBox x:Name="cbFormCategory"
                          DisplayMemberPath="Name"
                          SelectedValuePath="CategoryId"
                          Margin="0,5,0,10"/>

                <TextBlock Text="Category Image:" FontWeight="Bold"/>
                <Image x:Name="imgCategory"
                       Width="200" Height="150"
                       Margin="0,5,0,10"
                       Stretch="UniformToFill"
                       HorizontalAlignment="Left"/>



                <!-- Actions -->
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                    <Button Content="Add"
                            Width="80" Margin="5"
                            Click="BtnAdd_Click"/>
                    <Button Content="Update"
                            Width="80" Margin="5"
                            Click="BtnEdit_Click"/>
                    <Button Content="Clear"
                            Width="80" Margin="5"
                            Click="BtnClear_Click"/>
                </StackPanel>
            </StackPanel>

            <!-- 📋 Product List -->
            <ListView x:Name="lvProducts"
                      Grid.Column="1"
                      Margin="0"
                      SelectionMode="Single"
                      SelectionChanged="lvProducts_SelectionChanged">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="ID" Width="40" DisplayMemberBinding="{Binding ProductId}"/>
                        <GridViewColumn Header="Name" Width="150" DisplayMemberBinding="{Binding Name}"/>
                        <GridViewColumn Header="Price" Width="80" DisplayMemberBinding="{Binding Price}"/>
                        <GridViewColumn Header="Description" Width="220" DisplayMemberBinding="{Binding Description}"/>
                        <GridViewColumn Header="Category" Width="120" DisplayMemberBinding="{Binding Category.Name}"/>
                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>

        <!-- 🚮 Bottom Buttons -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,20,0,0">
            <Button Content="Delete"
                    Width="100" Margin="5"
                    Click="BtnDelete_Click"/>
            <Button Content="Refresh"
                    Width="100" Margin="5"
                    Click="BtnRefresh_Click"/>
        </StackPanel>
    </Grid>
</Window>
